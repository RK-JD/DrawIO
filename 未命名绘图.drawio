<mxfile host="app.diagrams.net" modified="2023-06-07T06:50:34.681Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36 Edg/114.0.1823.37" etag="Fnh6iOGPLVrZMv7WqG7A" version="21.3.7" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="2422" dy="1118" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="HSwGKQN04GHCL3bgjbMO-42" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-160" y="630" width="1160" height="250" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-9" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-150" y="350" width="370" height="250" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-43" value="&lt;h1 style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Times New Roman&quot;&gt;class DeviceDAO&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-210" y="841.2903225806451" width="540" height="29.032258064516128" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-67" value="" style="group" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1" connectable="0">
          <mxGeometry x="-120" y="670" width="310" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-68" value="" style="group" parent="HSwGKQN04GHCL3bgjbMO-67" vertex="1" connectable="0">
          <mxGeometry width="310" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-91" value="" style="group" parent="HSwGKQN04GHCL3bgjbMO-68" vertex="1" connectable="0">
          <mxGeometry width="310" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-64" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=13;" parent="HSwGKQN04GHCL3bgjbMO-91" vertex="1">
          <mxGeometry width="308.07453416149065" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-65" value="&lt;h1 style=&quot;border-color: var(--border-color); font-size: 16px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 16px;&quot; face=&quot;Times New Roman&quot;&gt;Double selectByTableAndField&lt;/font&gt;&lt;/h1&gt;&lt;h1 style=&quot;border-color: var(--border-color); font-size: 16px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 16px;&quot; face=&quot;Times New Roman&quot;&gt;(table_name,field)&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;spacing=2;" parent="HSwGKQN04GHCL3bgjbMO-91" vertex="1">
          <mxGeometry x="5.776397515527951" y="9.677499999999954" width="304.22360248447205" height="29.032499999999995" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-66" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SELECT #{field}&lt;br&gt;FROM #{table_name}&lt;br&gt;WHERE actual_name=#{deviceName}&lt;br&gt;ORDER BY id DESC&lt;br&gt;limit #{count}&lt;br&gt;&lt;font color=&quot;#ff051e&quot;&gt;注意：返回Double&lt;/font&gt;&lt;br&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;align=center;" parent="HSwGKQN04GHCL3bgjbMO-91" vertex="1">
          <mxGeometry x="11" y="47.42" width="297.07" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-10" value="&lt;h1 style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Times New Roman&quot;&gt;class DeviceService&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-130" y="560" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.201;entryY=-0.667;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HSwGKQN04GHCL3bgjbMO-5" target="HSwGKQN04GHCL3bgjbMO-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-5" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-140" y="160" width="330" height="80" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-3" value="请求{&lt;font color=&quot;#ff0d25&quot;&gt;deviceName&lt;/font&gt;}的{&lt;b&gt;&lt;font color=&quot;#f21f07&quot;&gt;field&lt;/font&gt;&lt;/b&gt;}字段最近{&lt;font color=&quot;#ff0324&quot;&gt;count&lt;/font&gt;}条数据" style="text;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-110" y="170" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-6" value="&lt;h1 style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; face=&quot;Times New Roman&quot;&gt;class DeviceDataController&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-117.5" y="200" width="285" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.237;entryY=-0.333;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HSwGKQN04GHCL3bgjbMO-72" target="HSwGKQN04GHCL3bgjbMO-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-72" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-120" y="390" width="310" height="160" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-73" value="&lt;h1 style=&quot;border-color: var(--border-color); font-size: 18px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 18px;&quot; face=&quot;Times New Roman&quot;&gt;findFieldByDeviceNameAndFieldName&lt;/font&gt;&lt;/h1&gt;&lt;h1 style=&quot;border-color: var(--border-color); font-size: 18px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 18px;&quot; face=&quot;Times New Roman&quot;&gt;(DeviceName,fieldName)&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-119.99726708074535" y="410" width="314.0372670807454" height="29.999999999999996" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-74" value="以表名和字段名单点查找DB" style="text;whiteSpace=wrap;html=1;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-113.3221052631579" y="470" width="306.65263157894736" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-115" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" target="HSwGKQN04GHCL3bgjbMO-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="108" y="390" as="sourcePoint" />
            <mxPoint x="160" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-117" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="99.43" y="670" as="sourcePoint" />
            <mxPoint x="100" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-118" value="" style="group" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1" connectable="0">
          <mxGeometry x="600" y="670" width="361" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-119" value="" style="group" parent="HSwGKQN04GHCL3bgjbMO-118" vertex="1" connectable="0">
          <mxGeometry width="361" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-120" value="" style="group" parent="HSwGKQN04GHCL3bgjbMO-119" vertex="1" connectable="0">
          <mxGeometry width="361" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-121" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=13;" parent="HSwGKQN04GHCL3bgjbMO-120" vertex="1">
          <mxGeometry width="361" height="154.84" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-122" value="&lt;h1 style=&quot;border-color: var(--border-color); font-size: 16px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 16px;&quot; face=&quot;Times New Roman&quot;&gt;List&amp;lt;String&amp;gt;&amp;nbsp; selectAllTableName&lt;/font&gt;()&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;spacing=2;" parent="HSwGKQN04GHCL3bgjbMO-120" vertex="1">
          <mxGeometry x="5.639405405405406" y="19.999999999999993" width="355.36059459459466" height="29.03" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-123" value="&lt;font style=&quot;&quot;&gt;SELECT table_name &lt;br&gt;FROM information_schema.TABLES&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;align=center;" parent="HSwGKQN04GHCL3bgjbMO-120" vertex="1">
          <mxGeometry x="38.402594594594596" y="60" width="289.84397297297295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-0" value="" style="group" vertex="1" connectable="0" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="414" y="155" width="306" height="110" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-29" value="" style="group" vertex="1" connectable="0" parent="jVM9vBWa1CpJFviNgf23-0">
          <mxGeometry x="-8.39032258064516" width="306" height="90.00000000000001" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-127" value="表名-字段映射，用于表名的合法性验证" style="rounded=1;whiteSpace=wrap;html=1;" parent="jVM9vBWa1CpJFviNgf23-29" vertex="1">
          <mxGeometry x="14.806451612903224" width="276.38709677419354" height="90.00000000000001" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-128" value="&lt;h1 style=&quot;border-color: var(--border-color); font-size: 18px;&quot;&gt;&lt;font face=&quot;Times New Roman&quot;&gt;FieldAndTableChecker&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="jVM9vBWa1CpJFviNgf23-29" vertex="1">
          <mxGeometry x="8.39032258064516" y="0.001307759372274312" width="272.93225806451613" height="23.53966870095902" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-19" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;Map&amp;lt;String,Set&amp;lt;String&amp;gt;&amp;gt; mapper&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="jVM9vBWa1CpJFviNgf23-29">
          <mxGeometry y="60" width="306" height="10" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HSwGKQN04GHCL3bgjbMO-139" target="HSwGKQN04GHCL3bgjbMO-127">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="510" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-139" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=13;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="210" y="669.9999999999999" width="361" height="160" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-140" value="&lt;h1 style=&quot;border-color: var(--border-color); font-size: 16px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 16px;&quot; face=&quot;Times New Roman&quot;&gt;List&amp;lt;String&amp;gt;&amp;nbsp; selectAllFieldsNameByTableName&lt;/font&gt;&lt;/h1&gt;&lt;h1 style=&quot;border-color: var(--border-color); font-size: 16px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 16px;&quot; face=&quot;Times New Roman&quot;&gt;(table_name)&lt;/font&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;spacing=2;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="212.8194054054054" y="706.1299999999999" width="355.36059459459466" height="29.03" as="geometry" />
        </mxCell>
        <mxCell id="HSwGKQN04GHCL3bgjbMO-141" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SELECT COLUMN_NAME &lt;br&gt;FROM information_schema.columns &lt;br&gt;WHERE table_name = &#39;table_name&#39;&lt;br&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="245.58259459459458" y="735.1599999999999" width="289.84397297297295" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-9" value="&lt;h2&gt;启动时构建&lt;/h2&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="503.62" y="460" width="126.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HSwGKQN04GHCL3bgjbMO-121" target="HSwGKQN04GHCL3bgjbMO-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="HSwGKQN04GHCL3bgjbMO-127" target="HSwGKQN04GHCL3bgjbMO-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jVM9vBWa1CpJFviNgf23-31" value="作为Bean注入" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;fontStyle=1" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270" y="170" width="100" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
